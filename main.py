from github_api import GitHubAPI

def check_day(api):
    patch_llms = ["mixtral","mistral","Vicuna"]
    created_date_from = "2023-12-20"
    created_date_to = "2023-12-20"
    for query in patch_llms:
        res_repos = api.get_repo(query,created_date_from,created_date_to, 0)
        res_code = api.get_repo(query,created_date_from,created_date_to, 1)
        res_issues = api.get_repo(query,created_date_from,created_date_to, 2)

        print("from: "+created_date_from)
        print("to: "+created_date_to)
        print("Repo search")
        print(res_repos['total_count'])
        print(len(res_repos['items']))
        repos = [res_repos['items'][i]['url'] for i in range(len(res_repos['items']))]
        print(len(set(repos)))
        print("Issues search")
        print(res_issues['total_count'])
        print(len(res_issues['items']))
        issues = [res_issues['items'][i]['repository_url'] for i in range(len(res_issues['items']))]
        print(len(set(issues)))   

def pull_repos(api, year):
    closed_source_llms_2022 = ['lamda']# ["gpt", "lambda","alexatm"]#"Claude", "Coral", "AlexaTM", "LaMDA", "PaLM"] #['gemini']
    closed_source_llms_2023 = ["alexa"]#,"coral","claude"]#"chatgpt",'lamda',"alexatm","palm","coral","claude"]"palm",
    llm_frameworks = ['langchain']#,'langchain','mlc%20llm']
    open_source_llms = ["llama", "gemma", "mistral","Vicuna","mixtral","StableLM"]# "Qwen", "phi3", "Phi-1.5", "RedPajama", "Orca",  "falcon", "starling", "DeepSeek", "MiniChat", "Marcoroni", "Nyxene", "Una%20Xaberius", "ShiningValiant", Vicuna, Stable Beluga, StableLM  
    open_source_llms2 = ["gpt"]
     # REMEMBER TO CHANGE
    daily_2023 = ['2023-01-01', '2023-01-02', '2023-01-03', '2023-01-04', '2023-01-05', '2023-01-06', '2023-01-07', '2023-01-08', '2023-01-09', '2023-01-10', '2023-01-11', '2023-01-12', '2023-01-13', '2023-01-14', '2023-01-15', '2023-01-16', '2023-01-17', '2023-01-18', '2023-01-19', '2023-01-20', '2023-01-21', '2023-01-22', '2023-01-23', '2023-01-24', '2023-01-25', '2023-01-26', '2023-01-27', '2023-01-28', '2023-01-29', '2023-01-30', '2023-01-31', '2023-02-01', '2023-02-02', '2023-02-03', '2023-02-04', '2023-02-05', '2023-02-06', '2023-02-07', '2023-02-08', '2023-02-09', '2023-02-10', '2023-02-11', '2023-02-12', '2023-02-13', '2023-02-14', '2023-02-15', '2023-02-16', '2023-02-17', '2023-02-18', '2023-02-19', '2023-02-20', '2023-02-21', '2023-02-22', '2023-02-23', '2023-02-24', '2023-02-25', '2023-02-26', '2023-02-27', '2023-02-28', '2023-03-01', '2023-03-02', '2023-03-03', '2023-03-04', '2023-03-05', '2023-03-06', '2023-03-07', '2023-03-08', '2023-03-09', '2023-03-10', '2023-03-11', '2023-03-12', '2023-03-13', '2023-03-14', '2023-03-15', '2023-03-16', '2023-03-17', '2023-03-18', '2023-03-19', '2023-03-20', '2023-03-21', '2023-03-22', '2023-03-23', '2023-03-24', '2023-03-25', '2023-03-26', '2023-03-27', '2023-03-28', '2023-03-29', '2023-03-30', '2023-03-31', '2023-04-01', '2023-04-02', '2023-04-03', '2023-04-04', '2023-04-05', '2023-04-06', '2023-04-07', '2023-04-08', '2023-04-09', '2023-04-10', '2023-04-11', '2023-04-12', '2023-04-13', '2023-04-14', '2023-04-15', '2023-04-16', '2023-04-17', '2023-04-18', '2023-04-19', '2023-04-20', '2023-04-21', '2023-04-22', '2023-04-23', '2023-04-24', '2023-04-25', '2023-04-26', '2023-04-27', '2023-04-28', '2023-04-29', '2023-04-30', '2023-05-01', '2023-05-02', '2023-05-03', '2023-05-04', '2023-05-05', '2023-05-06', '2023-05-07', '2023-05-08', '2023-05-09', '2023-05-10', '2023-05-11', '2023-05-12', '2023-05-13', '2023-05-14', '2023-05-15', '2023-05-16', '2023-05-17', '2023-05-18', '2023-05-19', '2023-05-20', '2023-05-21', '2023-05-22', '2023-05-23', '2023-05-24', '2023-05-25', '2023-05-26', '2023-05-27', '2023-05-28', '2023-05-29', '2023-05-30', '2023-05-31', '2023-06-01', '2023-06-02', '2023-06-03', '2023-06-04', '2023-06-05', '2023-06-06', '2023-06-07', '2023-06-08', '2023-06-09', '2023-06-10', '2023-06-11', '2023-06-12', '2023-06-13', '2023-06-14', '2023-06-15', '2023-06-16', '2023-06-17', '2023-06-18', '2023-06-19', '2023-06-20', '2023-06-21', '2023-06-22', '2023-06-23', '2023-06-24', '2023-06-25', '2023-06-26', '2023-06-27', '2023-06-28', '2023-06-29', '2023-06-30', '2023-07-01', '2023-07-02', '2023-07-03', '2023-07-04', '2023-07-05', '2023-07-06', '2023-07-07', '2023-07-08', '2023-07-09', '2023-07-10', '2023-07-11', '2023-07-12', '2023-07-13', '2023-07-14', '2023-07-15', '2023-07-16', '2023-07-17', '2023-07-18', '2023-07-19', '2023-07-20', '2023-07-21', '2023-07-22', '2023-07-23', '2023-07-24', '2023-07-25', '2023-07-26', '2023-07-27', '2023-07-28', '2023-07-29', '2023-07-30', '2023-07-31', '2023-08-01', '2023-08-02', '2023-08-03', '2023-08-04', '2023-08-05', '2023-08-06', '2023-08-07', '2023-08-08', '2023-08-09', '2023-08-10', '2023-08-11', '2023-08-12', '2023-08-13', '2023-08-14', '2023-08-15', '2023-08-16', '2023-08-17', '2023-08-18', '2023-08-19', '2023-08-20', '2023-08-21', '2023-08-22', '2023-08-23', '2023-08-24', '2023-08-25', '2023-08-26', '2023-08-27', '2023-08-28', '2023-08-29', '2023-08-30', '2023-08-31', '2023-09-01', '2023-09-02', '2023-09-03', '2023-09-04', '2023-09-05', '2023-09-06', '2023-09-07', '2023-09-08', '2023-09-09', '2023-09-10', '2023-09-11', '2023-09-12', '2023-09-13', '2023-09-14', '2023-09-15', '2023-09-16', '2023-09-17', '2023-09-18', '2023-09-19', '2023-09-20', '2023-09-21', '2023-09-22', '2023-09-23', '2023-09-24', '2023-09-25', '2023-09-26', '2023-09-27', '2023-09-28', '2023-09-29', '2023-09-30', '2023-10-01', '2023-10-02', '2023-10-03', '2023-10-04', '2023-10-05', '2023-10-06', '2023-10-07', '2023-10-08', '2023-10-09', '2023-10-10', '2023-10-11', '2023-10-12', '2023-10-13', '2023-10-14', '2023-10-15', '2023-10-16', '2023-10-17', '2023-10-18', '2023-10-19', '2023-10-20', '2023-10-21', '2023-10-22', '2023-10-23', '2023-10-24', '2023-10-25', '2023-10-26', '2023-10-27', '2023-10-28', '2023-10-29', '2023-10-30', '2023-10-31', '2023-11-01', '2023-11-02', '2023-11-03', '2023-11-04', '2023-11-05', '2023-11-06', '2023-11-07', '2023-11-08', '2023-11-09', '2023-11-10', '2023-11-11', '2023-11-12', '2023-11-13', '2023-11-14', '2023-11-15', '2023-11-16', '2023-11-17', '2023-11-18', '2023-11-19', '2023-11-20', '2023-11-21', '2023-11-22', '2023-11-23', '2023-11-24', '2023-11-25', '2023-11-26', '2023-11-27', '2023-11-28', '2023-11-29', '2023-11-30', '2023-12-01', '2023-12-02', '2023-12-03', '2023-12-04', '2023-12-05', '2023-12-06', '2023-12-07', '2023-12-08', '2023-12-09', '2023-12-10', '2023-12-11', '2023-12-12', '2023-12-13', '2023-12-14', '2023-12-15', '2023-12-16', '2023-12-17', '2023-12-18', '2023-12-19', '2023-12-20', '2023-12-21', '2023-12-22', '2023-12-23', '2023-12-24', '2023-12-25', '2023-12-26', '2023-12-27', '2023-12-28', '2023-12-29', '2023-12-30', '2023-12-31']
    daily_2024 = ['2024-01-01', '2024-01-02', '2024-01-03', '2024-01-04', '2024-01-05', '2024-01-06', '2024-01-07', '2024-01-08', '2024-01-09', '2024-01-10', '2024-01-11', '2024-01-12', '2024-01-13', '2024-01-14', '2024-01-15', '2024-01-16', '2024-01-17', '2024-01-18', '2024-01-19', '2024-01-20', '2024-01-21', '2024-01-22', '2024-01-23', '2024-01-24', '2024-01-25', '2024-01-26', '2024-01-27', '2024-01-28', '2024-01-29', '2024-01-30', '2024-01-31', '2024-02-01', '2024-02-02', '2024-02-03', '2024-02-04', '2024-02-05', '2024-02-06', '2024-02-07', '2024-02-08', '2024-02-09', '2024-02-10', '2024-02-11', '2024-02-12', '2024-02-13', '2024-02-14', '2024-02-15', '2024-02-16', '2024-02-17', '2024-02-18', '2024-02-19', '2024-02-20', '2024-02-21', '2024-02-22', '2024-02-23', '2024-02-24', '2024-02-25', '2024-02-26', '2024-02-27', '2024-02-28', '2024-02-29', '2024-03-01', '2024-03-02', '2024-03-03', '2024-03-04', '2024-03-05', '2024-03-06', '2024-03-07', '2024-03-08', '2024-03-09', '2024-03-10', '2024-03-11', '2024-03-12', '2024-03-13', '2024-03-14', '2024-03-15', '2024-03-16', '2024-03-17', '2024-03-18', '2024-03-19', '2024-03-20', '2024-03-21', '2024-03-22', '2024-03-23', '2024-03-24', '2024-03-25', '2024-03-26', '2024-03-27', '2024-03-28', '2024-03-29', '2024-03-30', '2024-03-31', '2024-04-01', '2024-04-02', '2024-04-03', '2024-04-04', '2024-04-05', '2024-04-06', '2024-04-07', '2024-04-08', '2024-04-09', '2024-04-10', '2024-04-11', '2024-04-12', '2024-04-13', '2024-04-14', '2024-04-15', '2024-04-16', '2024-04-17', '2024-04-18', '2024-04-19', '2024-04-20', '2024-04-21', '2024-04-22', '2024-04-23', '2024-04-24', '2024-04-25', '2024-04-26', '2024-04-27', '2024-04-28', '2024-04-29', '2024-04-30', '2024-05-01', '2024-05-02', '2024-05-03', '2024-05-04', '2024-05-05', '2024-05-06', '2024-05-07', '2024-05-08', '2024-05-09', '2024-05-10', '2024-05-11', '2024-05-12', '2024-05-13', '2024-05-14', '2024-05-15', '2024-05-16', '2024-05-17', '2024-05-18', '2024-05-19', '2024-05-20', '2024-05-21', '2024-05-22', '2024-05-23', '2024-05-24', '2024-05-25', '2024-05-26', '2024-05-27', '2024-05-28', '2024-05-29', '2024-05-30', '2024-05-31', '2024-06-01', '2024-06-02', '2024-06-03', '2024-06-04', '2024-06-05', '2024-06-06', '2024-06-07', '2024-06-08', '2024-06-09', '2024-06-10', '2024-06-11', '2024-06-12', '2024-06-13', '2024-06-14', '2024-06-15', '2024-06-16', '2024-06-17', '2024-06-18', '2024-06-19', '2024-06-20', '2024-06-21', '2024-06-22', '2024-06-23', '2024-06-24', '2024-06-25', '2024-06-26', '2024-06-27', '2024-06-28', '2024-06-29', '2024-06-30']
    created_date_from_list_2024_biday = ['2024-01-01', '2024-01-03', '2024-01-05', '2024-01-07', '2024-01-09', '2024-01-11', '2024-01-13', '2024-01-15', '2024-01-17', '2024-01-19', '2024-01-21', '2024-01-23', '2024-01-25', '2024-01-27', '2024-01-29', '2024-02-01', '2024-02-03', '2024-02-05', '2024-02-07', '2024-02-09', '2024-02-11', '2024-02-13', '2024-02-15', '2024-02-17', '2024-02-19', '2024-02-21', '2024-02-23', '2024-02-25', '2024-02-27', '2024-02-29', '2024-03-01', '2024-03-03', '2024-03-05', '2024-03-07', '2024-03-09', '2024-03-11', '2024-03-13', '2024-03-15', '2024-03-17', '2024-03-19', '2024-03-21', '2024-03-23', '2024-03-25', '2024-03-27', '2024-03-29', '2024-04-01', '2024-04-03', '2024-04-05', '2024-04-07', '2024-04-09', '2024-04-11', '2024-04-13', '2024-04-15', '2024-04-17', '2024-04-19', '2024-04-21', '2024-04-23', '2024-04-25', '2024-04-27', '2024-04-29', '2024-05-01', '2024-05-03', '2024-05-05', '2024-05-07', '2024-05-09', '2024-05-11', '2024-05-13', '2024-05-15', '2024-05-17', '2024-05-19', '2024-05-21', '2024-05-23', '2024-05-25', '2024-05-27', '2024-05-29', '2024-06-01', '2024-06-03', '2024-06-05', '2024-06-07', '2024-06-09', '2024-06-11', '2024-06-13', '2024-06-15', '2024-06-17', '2024-06-19', '2024-06-21', '2024-06-23', '2024-06-25', '2024-06-27', '2024-06-29']
    created_date_to_list_2024_biday = ['2024-01-02', '2024-01-04', '2024-01-06', '2024-01-08', '2024-01-10', '2024-01-12', '2024-01-14', '2024-01-16', '2024-01-18', '2024-01-20', '2024-01-22', '2024-01-24', '2024-01-26', '2024-01-28', '2024-01-31', '2024-02-02', '2024-02-04', '2024-02-06', '2024-02-08', '2024-02-10', '2024-02-12', '2024-02-14', '2024-02-16', '2024-02-18', '2024-02-20', '2024-02-22', '2024-02-24', '2024-02-26', '2024-02-28', '2024-02-29', '2024-03-02', '2024-03-04', '2024-03-06', '2024-03-08', '2024-03-10', '2024-03-12', '2024-03-14', '2024-03-16', '2024-03-18', '2024-03-20', '2024-03-22', '2024-03-24', '2024-03-26', '2024-03-28', '2024-03-31', '2024-04-02', '2024-04-04', '2024-04-06', '2024-04-08', '2024-04-10', '2024-04-12', '2024-04-14', '2024-04-16', '2024-04-18', '2024-04-20', '2024-04-22', '2024-04-24', '2024-04-26', '2024-04-28', '2024-04-30', '2024-05-02', '2024-05-04', '2024-05-06', '2024-05-08', '2024-05-10', '2024-05-12', '2024-05-14', '2024-05-16', '2024-05-18', '2024-05-20', '2024-05-22', '2024-05-24', '2024-05-26', '2024-05-28', '2024-05-31', '2024-06-02', '2024-06-04', '2024-06-06', '2024-06-08', '2024-06-10', '2024-06-12', '2024-06-14', '2024-06-16', '2024-06-18', '2024-06-20', '2024-06-22', '2024-06-24', '2024-06-26', '2024-06-28', '2024-06-30']
    created_date_from_list_2024 = ['2024-01-01', '2024-01-08', '2024-01-16', '2024-01-24', '2024-02-01', '2024-02-08', '2024-02-16', '2024-02-24', '2024-03-01', '2024-03-08', '2024-03-16', '2024-03-24', '2024-04-01', '2024-04-08', '2024-04-16', '2024-04-24', '2024-05-01', '2024-05-08', '2024-05-16', '2024-05-24', '2024-06-01', '2024-06-08', '2024-06-16', '2024-06-24']
    created_date_to_list_2024 = ['2024-01-07', '2024-01-15', '2024-01-23', '2024-01-31', '2024-02-07', '2024-02-15', '2024-02-23', '2024-02-29', '2024-03-07', '2024-03-15', '2024-03-23', '2024-03-31', '2024-04-07', '2024-04-15', '2024-04-23', '2024-04-30', '2024-05-07', '2024-05-15', '2024-05-23', '2024-05-31', '2024-06-07', '2024-06-15', '2024-06-23', '2024-06-30']
    created_date_from_list_2023 = ['2023-01-01', '2023-01-08', '2023-01-16', '2023-01-24', '2023-02-01', '2023-02-08', '2023-02-16', '2023-02-24', '2023-03-01', '2023-03-08', '2023-03-16', '2023-03-24', '2023-04-01', '2023-04-08', '2023-04-16', '2023-04-24', '2023-05-01', '2023-05-08', '2023-05-16', '2023-05-24', '2023-06-01', '2023-06-08', '2023-06-16', '2023-06-24', '2023-07-01', '2023-07-08', '2023-07-16', '2023-07-24', '2023-08-01', '2023-08-08', '2023-08-16', '2023-08-24', '2023-09-01', '2023-09-08', '2023-09-16', '2023-09-24', '2023-10-01', '2023-10-08', '2023-10-16', '2023-10-24', '2023-11-01', '2023-11-08', '2023-11-16', '2023-11-24', '2023-12-01', '2023-12-08', '2023-12-16', '2023-12-24']
    created_date_to_list_2023 = ['2023-01-07', '2023-01-15', '2023-01-23', '2023-01-31', '2023-02-07', '2023-02-15', '2023-02-23', '2023-02-28', '2023-03-07', '2023-03-15', '2023-03-23', '2023-03-31', '2023-04-07', '2023-04-15', '2023-04-23', '2023-04-30', '2023-05-07', '2023-05-15', '2023-05-23', '2023-05-31', '2023-06-07', '2023-06-15', '2023-06-23', '2023-06-30', '2023-07-07', '2023-07-15', '2023-07-23', '2023-07-31', '2023-08-07', '2023-08-15', '2023-08-23', '2023-08-31', '2023-09-07', '2023-09-15', '2023-09-23', '2023-09-30', '2023-10-07', '2023-10-15', '2023-10-23', '2023-10-31', '2023-11-07', '2023-11-15', '2023-11-23', '2023-11-30', '2023-12-07', '2023-12-15', '2023-12-23', '2023-12-31']
    created_date_from_list_2022 = ['2022-01-01', '2022-01-08', '2022-01-16', '2022-01-24', '2022-02-01', '2022-02-08', '2022-02-16', '2022-02-24', '2022-03-01', '2022-03-08', '2022-03-16', '2022-03-24', '2022-04-01', '2022-04-08', '2022-04-16', '2022-04-24', '2022-05-01', '2022-05-08', '2022-05-16', '2022-05-24', '2022-06-01', '2022-06-08', '2022-06-16', '2022-06-24', '2022-07-01', '2022-07-08', '2022-07-16', '2022-07-24', '2022-08-01', '2022-08-08', '2022-08-16', '2022-08-24', '2022-09-01', '2022-09-08', '2022-09-16', '2022-09-24', '2022-10-01', '2022-10-08', '2022-10-16', '2022-10-24', '2022-11-01', '2022-11-08', '2022-11-16', '2022-11-24', '2022-12-01', '2022-12-08', '2022-12-16', '2022-12-24']
    created_date_to_list_2022 = ['2022-01-07', '2022-01-15', '2022-01-23', '2022-01-31', '2022-02-07', '2022-02-15', '2022-02-23', '2022-02-28', '2022-03-07', '2022-03-15', '2022-03-23', '2022-03-31', '2022-04-07', '2022-04-15', '2022-04-23', '2022-04-30', '2022-05-07', '2022-05-15', '2022-05-23', '2022-05-31', '2022-06-07', '2022-06-15', '2022-06-23', '2022-06-30', '2022-07-07', '2022-07-15', '2022-07-23', '2022-07-31', '2022-08-07', '2022-08-15', '2022-08-23', '2022-08-31', '2022-09-07', '2022-09-15', '2022-09-23', '2022-09-30', '2022-10-07', '2022-10-15', '2022-10-23', '2022-10-31', '2022-11-07', '2022-11-15', '2022-11-23', '2022-11-30', '2022-12-07', '2022-12-15', '2022-12-23', '2022-12-31']
    created_date_from_list_2023_12_16 = ["2023-12-16","2023-12-17","2023-12-18","2023-12-19","2023-12-20","2023-12-21","2023-12-22","2023-12-23"]
    created_date_to_list_2023_12_16 = ["2023-12-16","2023-12-17","2023-12-18","2023-12-19","2023-12-20","2023-12-21","2023-12-22","2023-12-23"]
    created_date_from_list_2024_05_16 = ["2024-05-16","2024-05-17","2024-05-18","2024-05-19","2024-05-20","2024-05-21","2024-05-22","2024-05-23"]
    created_date_to_list_2024_05_16 = ["2024-05-16","2024-05-17","2024-05-18","2024-05-19","2024-05-20","2024-05-21","2024-05-22","2024-05-23"]
    
    """
    if year ==2024:
        end = 24
        created_date_from_list = created_date_from_list_2024
        created_date_to_list = created_date_to_list_2024
    elif year == 2023:
        end = 48
        created_date_from_list = created_date_from_list_2023
        created_date_to_list = created_date_to_list_2023
    """
    for query in open_source_llms2:
        sum_repos = 0
        sum_code = 0
        sum_issues = 0
        sum_total = 0
        print(query)
        fmeta= open(query+"_meta_daily_2023.txt","w+")     
        for i in range(len(daily_2023)):
            created_date_from = daily_2023[i]
            created_date_to = daily_2023[i]
            print("from: "+created_date_from)
            print("to: "+created_date_to)
            fmeta.write("from: "+created_date_from+"\n")
            fmeta.write("to: "+created_date_to+"\n")
            res_repos = api.get_repo(query,created_date_from,created_date_to, 0)
            res_code = api.get_repo(query,created_date_from,created_date_to, 1)
            res_issues = api.get_repo(query,created_date_from,created_date_to, 2)

            print("from: "+created_date_from)
            print("to: "+created_date_to)
            print("Repo search")
            print(res_repos['total_count'])
            print(len(res_repos['items']))
            fmeta.write("Repo search\n"+str(res_repos['total_count'])+"\n"+str(len(res_repos['items']))+"\n")
            repos = [res_repos['items'][i]['url'] for i in range(len(res_repos['items']))]
            """
            f= open(query+'_'+created_date_from+"_repos.txt","w+")
            for r in repos:
                f.write(r+"\n")
            f.close()
            """
            sum_repos += res_repos['total_count']
            
            print("Code search")
            print(res_code['total_count'])
            print(len(res_code['items']))
            fmeta.write("Code search\n"+str(res_code['total_count'])+"\n"+str(len(res_code['items']))+"\n")
            code = [res_code['items'][i]['url'] for i in range(len(res_code['items']))]
            """
            f= open(query+'_'+created_date_from+"_code.txt","w+")
            for r in code:
                f.write(r+"\n")
            f.close()
            sum_code += res_code['total_count']
            """
            print("Issues search")
            print(res_issues['total_count'])
            print(len(res_issues['items']))
            fmeta.write("Issues search\n"+str(res_issues['total_count'])+"\n"+str(len(res_issues['items']))+"\n")
            issues = [res_issues['items'][i]['repository_url'] for i in range(len(res_issues['items']))]
            """
            f= open(query+'_'+created_date_from+"_issues.txt","w+")
            for r in issues:
                f.write(r+"\n")
            f.close()
            """
            sum_issues += res_issues['total_count']

            urls = set(repos+code+issues)
            print("Total number")
            print(len(urls))
            fmeta.write("Total number\n"+str(len(urls))+"\n")
            
            f= open(query+'_'+created_date_from+".txt","w+")
            for url in urls:
                f.write(url+"\n")
            f.close()
            
            sum_total= sum_total+len(urls)
            print("sum repos "+str(sum_repos))
            print("sum code "+str(sum_code))
            print("sum issues "+str(sum_issues))
            print("sum total "+str(sum_total))
            fmeta.write("sum repos\n"+str(sum_repos)+"\n")
            fmeta.write("sum code\n"+str(sum_code)+"\n")
            fmeta.write("sum issues\n"+str(sum_issues)+"\n")
            fmeta.write("sum total\n"+str(sum_total)+"\n")
            
        fmeta.close()
    

if __name__ == "__main__":
    api = GitHubAPI()
    # # query github api with URL https://api.github.com/repos/jquery/jquery/pulls/4406/commits
    #     # res = api.request("repos/jquery/jquery/pulls/4406/commits")
    #     #

    # query issue/pr timeline
    #  api doc: https://developer.github.com/v3/issues/timeline/#list-timeline-events-for-an-issue
    # the following query the events for https://github.com/jquery/jquery/pull/4406/
    # events = api.get_issue_pr_timeline("jquery/jquery", 4406)

    pull_repos(api, 2024)
    #Search repos
    # dict_keys(['total_count', 'incomplete_results', 'items'])
    # items is list of dicts
    """
    dict_keys(['id', 'node_id', 'name', 'full_name', 'private', 'owner', 'html_url', 
    'description', 'fork', 'url', 'forks_url', 'keys_url', 'collaborators_url', 
    'teams_url', 'hooks_url', 'issue_events_url', 'events_url', 'assignees_url', 
    'branches_url', 'tags_url', 'blobs_url', 'git_tags_url', 'git_refs_url', 
    'trees_url', 'statuses_url', 'languages_url', 'stargazers_url', 'contributors_url', 
    'subscribers_url', 'subscription_url', 'commits_url', 'git_commits_url', 'comments_url', 
    'issue_comment_url', 'contents_url', 'compare_url', 'merges_url', 'archive_url', 
    'downloads_url', 'issues_url', 'pulls_url', 'milestones_url', 'notifications_url', 
    'labels_url', 'releases_url', 'deployments_url', 'created_at', 'updated_at', 'pushed_at', 
    'git_url', 'ssh_url', 'clone_url', 'svn_url', 'homepage', 'size', 'stargazers_count', 
    'watchers_count', 'language', 'has_issues', 'has_projects', 'has_downloads', 'has_wiki', 
    'has_pages', 'has_discussions', 'forks_count', 'mirror_url', 'archived', 'disabled', 
    'open_issues_count', 'license', 'allow_forking', 'is_template', 'web_commit_signoff_required', 
    'topics', 'visibility', 'forks', 'open_issues', 'watchers', 'default_branch', 'permissions', 'score'])
    """
    """
    gpt - nov 2022
    - 2022: monthly
    claude - march 2023
    - 2023: 2 weeks
    - 2024: 2024 jan over 1000
    coral - 2023 december over 1000
    - 2023: 2 weeks
    - 2024: 1 week
    alexatm - 2022
    - 2022: monthly
    - 2023: 2 months
    gemini - march 2023
    - 2023: 1 week
    - 2024: 1 week
    lamda - 2021
    - 2022: month
    - 2023: 2 weeks
    - 2024: 2 weeks
    palm - april 2022
    - 2022: 2 weeks
    - 2023: 2 weeks
    - 2024: 2 weeks
    """
    